<script>
  import { onMount } from 'svelte'
  import { scroll } from '../store.js'
  import scrollToElement from '../js/scrollToElement.js'

  export let title = ''
  export let icon = ''

  let pointer

  onMount(async () => {
    if ($scroll) scrollToElement(pointer)
	})
</script>

<style>
  .separator::before, .separator::after {
    content: '';
    @apply border-dashed border-b-2 border-gray-400 flex-1;
  }
  .separator::before {
    @apply mr-2;
  }
  .separator::after {
    @apply ml-2;
  }
</style>

<div class="mt-24 print:mt-0">
  <div bind:this={pointer} class="separator flex items-center text-center text-2xl md:text-3xl tracking-wider uppercase font-bold text-gray-600">{title}</div>

  <div class="text-blue-800 text-center mt-8">
    <svg class="w-48 h-48 md:w-56 md:h-56 block m-auto fill-current">
      <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-{icon}" filter="url(#dropShadow)"></use>
    </svg>
  </div>
</div>

<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="0" height="0">
  <defs>
    <filter id="dropShadow">
      <feGaussianBlur in="SourceAlpha" stdDeviation="3" />
      <feOffset dx="2" dy="4" />
      <feMerge>
        <feMergeNode />
        <feMergeNode in="SourceGraphic" />
      </feMerge>
    </filter>
  </defs>
  <symbol id="icon-park" viewBox="0 0 32 32" preserveAspectRatio="xMaxYMax meet">
    <title>Parks</title>
    <path
      d="M6.016 14.688c-1.152 0-2.016-0.864-2.016-2.016s0.864-1.984 2.016-1.984 1.984 0.864 1.984 1.984-0.864 2.016-1.984 2.016zM29.568 12.256c0 4.8-3.616 8.672-8.256 9.248v5.184h4v2.624h-21.312v-6.624h-1.312v-5.376c0-0.736 0.576-1.312 1.312-1.312h4c0.736 0 1.312 0.576 1.312 1.312v5.376h-1.312v4h10.688v-5.248c-4.448-0.768-7.808-4.576-7.808-9.184 0-5.184 4.192-9.376 9.376-9.376s9.312 4.192 9.312 9.376z">
    </path>
  </symbol>
  <symbol id="icon-impervious" viewBox="0 0 32 32">
    <title>Impervious Surface</title>
    <path d="M16 6.816l-3.072 3.008-1.856-1.888 4.928-4.928 7.552 7.552c3.264 3.264 3.936 8.064 2.144 12l-9.696-9.632v-6.112zM16 26.112v-6.432l-6.368-6.368c-1.056 1.376-1.632 3.072-1.632 4.8 0 4.32 3.712 8 8 8zM27.552 27.808l0.448 0.512-1.696 1.696-3.616-3.648c-1.952 1.568-4.32 2.368-6.688 2.368-2.752 0-5.504-1.056-7.552-3.104-3.872-3.936-4.128-10.080-0.768-14.272l-3.68-3.68 1.696-1.696c7.264 7.296 14.528 14.624 21.856 21.824z"></path>
  </symbol>
  <symbol id="icon-library" viewBox="0 0 32 32">
    <title>Libraries</title>
    <path d="M16 10.688c-2.176 0-4-1.824-4-4s1.824-4 4-4 4 1.824 4 4-1.824 4-4 4zM16 15.36c3.136-2.912 7.392-4.672 12-4.672v14.624c-4.608 0-8.864 1.824-12 4.768-3.136-2.944-7.36-4.768-12-4.768v-14.624c4.64 0 8.864 1.76 12 4.672z"></path>
  </symbol>
  <symbol id="icon-school" viewBox="0 0 41 32">
    <title>Schools</title>
    <path d="M31.68 14.912l0.32 5.664q0.064 1.216-1.472 2.272t-4.192 1.664-5.76 0.64-5.76-0.64-4.192-1.664-1.472-2.272l0.32-5.664 10.24 3.232q0.384 0.128 0.864 0.128t0.864-0.128zM41.152 9.152q0 0.384-0.416 0.544l-20 6.272q-0.064 0.032-0.16 0.032t-0.192-0.032l-11.648-3.68q-0.768 0.608-1.248 2.016t-0.608 3.168q1.12 0.64 1.12 1.952 0 1.248-1.024 1.92l1.024 7.744q0.032 0.224-0.128 0.416-0.16 0.224-0.448 0.224h-3.424q-0.256 0-0.416-0.224-0.192-0.192-0.16-0.416l1.056-7.744q-1.056-0.672-1.056-1.92 0-1.312 1.152-1.984 0.224-3.68 1.76-5.888l-5.952-1.856q-0.384-0.16-0.384-0.544t0.384-0.576l20-6.272q0.096-0.032 0.192-0.032t0.16 0.032l20 6.272q0.416 0.16 0.416 0.576z"></path>
  </symbol>
  <symbol id="icon-environment" viewBox="0 0 34 33">
    <title>Environment</title>
    <path d="M16 0c-8.837 0-16 7.163-16 16s7.163 16 16 16 16-7.163 16-16-7.163-16-16-16zM16 30c-1.967 0-3.84-0.407-5.538-1.139l7.286-8.197c0.163-0.183 0.253-0.419 0.253-0.664v-3c0-0.552-0.448-1-1-1-3.531 0-7.256-3.671-7.293-3.707-0.188-0.188-0.442-0.293-0.707-0.293h-4c-0.552 0-1 0.448-1 1v6c0 0.379 0.214 0.725 0.553 0.894l3.447 1.724v5.871c-3.627-2.53-6-6.732-6-11.489 0-2.147 0.484-4.181 1.348-6h3.652c0.265 0 0.52-0.105 0.707-0.293l4-4c0.188-0.188 0.293-0.442 0.293-0.707v-2.419c1.268-0.377 2.61-0.581 4-0.581 2.2 0 4.281 0.508 6.134 1.412-0.13 0.109-0.256 0.224-0.376 0.345-1.133 1.133-1.757 2.64-1.757 4.243s0.624 3.109 1.757 4.243c1.139 1.139 2.663 1.758 4.239 1.758 0.099 0 0.198-0.002 0.297-0.007 0.432 1.619 1.211 5.833-0.263 11.635-0.014 0.055-0.022 0.109-0.026 0.163-2.541 2.596-6.084 4.208-10.004 4.208z"></path>
  </symbol>
  <symbol id="icon-trash" viewBox="0 0 33 32">
    <title>Trash and Recycling</title>
    <path d="M14.944 20.864l-0.288 6.592-0.032 0.384-7.488-0.512q-0.64-0.064-1.216-0.576t-0.832-1.152q-0.192-0.48-0.256-0.992t0.064-1.152 0.224-0.992 0.384-1.152 0.352-0.928q1.376 0.192 9.088 0.48zM8.032 10.4l3.2 6.784-2.624-1.664q-1.12 1.312-1.984 2.592t-1.312 2.24-0.704 1.696-0.32 1.12l-0.064 0.352-3.392-6.368q-0.32-0.448-0.32-0.992t0.096-0.832l0.128-0.32q0.64-1.12 2.048-3.36l-2.496-1.536zM30.016 19.648l-3.36 6.4q-0.224 0.512-0.672 0.832t-0.768 0.384l-0.32 0.064q-1.28 0.128-3.904 0.224l0.128 2.912-4.096-6.56 3.776-6.464 0.128 3.104q3.008 0.288 5.024 0.064t3.040-0.576zM15.968 3.136q-0.832 1.12-4.704 7.776l-5.664-3.328-0.352-0.224 4.032-6.368q0.352-0.544 1.056-0.8t1.44-0.16q0.416 0.032 0.864 0.192t0.736 0.384 0.736 0.576 0.672 0.64 0.64 0.704 0.544 0.608zM27.68 8.608l3.776 6.496q0.32 0.672 0.224 1.344t-0.48 1.344q-0.224 0.352-0.576 0.64t-0.704 0.512-0.864 0.384-0.832 0.288-0.928 0.256-0.8 0.224q-0.608-1.28-4.736-7.808l5.568-3.456zM25.12 4.576l2.528-1.472-3.904 6.656-7.488-0.352 2.688-1.536q-0.608-1.6-1.344-2.976t-1.344-2.208-1.152-1.408-0.832-0.832l-0.32-0.224h7.232q0.576-0.032 1.056 0.192t0.704 0.512l0.192 0.256q0.672 1.088 1.984 3.392z"></path>
  </symbol>
  <symbol id="icon-voting" viewBox="0 0 27 32">
    <title>Voting</title>
    <path d="M12.224 23.2l10.976-10.976q0.352-0.32 0.352-0.8t-0.352-0.8l-1.824-1.824q-0.352-0.352-0.8-0.352t-0.8 0.352l-8.352 8.352-3.776-3.776q-0.32-0.352-0.8-0.352t-0.8 0.352l-1.824 1.824q-0.32 0.32-0.32 0.8t0.32 0.8l6.4 6.4q0.352 0.32 0.8 0.32t0.8-0.32zM27.424 7.424v17.152q0 2.112-1.504 3.616t-3.648 1.536h-17.12q-2.144 0-3.648-1.536t-1.504-3.616v-17.152q0-2.112 1.504-3.616t3.648-1.536h17.12q2.144 0 3.648 1.536t1.504 3.616z"></path>
  </symbol>
  <symbol id="icon-community" viewBox="0 0 33 32">
    <title>Community</title>
    <path d="M22.848 18.272h5.472q-0.096 0.128-0.192 0.192t-0.16 0.128l-0.064 0.096-11.104 10.72q-0.32 0.32-0.8 0.32t-0.8-0.32l-11.136-10.752q-0.096-0.064-0.352-0.384h6.56q0.416 0 0.736-0.224t0.384-0.608l1.248-5.024 3.392 11.904q0.128 0.352 0.416 0.576t0.704 0.256q0.352 0 0.672-0.256t0.416-0.576l2.592-8.672 1.024 2.016q0.32 0.608 0.992 0.608zM32 10.656q0 2.56-1.824 5.344h-6.592l-1.984-3.936q-0.16-0.32-0.48-0.48t-0.64-0.16q-0.8 0.096-0.992 0.832l-2.304 7.68-3.488-12.256q-0.128-0.352-0.448-0.608t-0.704-0.224-0.672 0.256-0.416 0.608l-2.048 8.288h-7.552q-1.856-2.784-1.856-5.344 0-3.936 2.272-6.144t6.272-2.24q1.088 0 2.24 0.384t2.144 1.056 1.728 1.216 1.344 1.216q0.64-0.64 1.344-1.216t1.728-1.216 2.144-1.056 2.24-0.384q4 0 6.272 2.24t2.272 6.144z"></path>
  </symbol>
  <symbol id="icon-property" viewBox="0 0 32 32">
    <title>Property</title>
    <path d="M32 18.451l-16-12.42-16 12.42v-5.064l16-12.42 16 12.42zM28 18v12h-8v-8h-8v8h-8v-12l12-9z"></path>
  </symbol>
</svg>